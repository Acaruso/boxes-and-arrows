https://rachel53461.wordpress.com/2014/04/20/algorithm-for-drawing-trees/



in ui.js, have treeFormat event
to trigger:
select root node only, then do Ctrl-Q

this calls model.treeFormat

also have a bunch of code in scripter that doesn't get called
this code is like the v1 of the code in model.treeFormat



algo:

assign each node an x_value:
do pre-order traversal of tree
within each sibling group, x_value starts at 0 and increments by 1 for each node



each node also has mod property
mod tells node how far over to shift all of it's children



position child nodes under parents:

first, find x value that would center a parent node over it's children
call this value desiredX
if a node has only 1 child:
    desiredX = child.x
if node has > 1 child:
    desiredX = midpoint(firstChild.x, lastChild.x)

next, check if parent node has any siblings to the left of it
    can check this by checking value of parent.parent's first child
    ie: parent.parent.first_child == parent

if parent node doesn't have siblings to the left:
    set parent.x = desiredX
if parent node does have siblings to the left:
    set parent.mod = parent.x - desiredX

note that we don't actually use the mod value until the final step of the algo



check for node conflicts:

if a node has children, loop thru all children, check if x value conflicts with any other
nodes x values at that same level

for each child of node:
    find min x position

do this right to left on parents


































